{"version":3,"sources":["components/Container/Container.module.css","components/Container/Container.jsx","components/Searchbar/Searchbar.js","components/ImageGallery/ImageGalleryItem.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","components/ImageGallery/Great.js","components/Modal/Modal.js","App.js","services/requestImages.js","index.js"],"names":["module","exports","Container","children","className","s","container","Searchbar","state","query","handleChange","e","value","target","setState","onSubmitForm","preventDefault","props","onSubmit","id","this","type","autoComplete","autoFocus","placeholder","onChange","role","aria-hidden","Component","ImageGalleryItem","image","webformatURL","largeImageURL","tags","likes","views","comments","downloads","openModal","data-large-image","onClick","src","alt","Button","loadMore","ImageGallery","gallery","map","Great","Modal","isLoading","loaded","currentTarget","onLoad","color","height","width","App","page","modal","show","toast","warning","updateGallery","response","prevState","data","hits","scroll","window","scrollTo","top","document","documentElement","scrollHeight","behavior","handlerEsc","key","addEventListener","removeEventListener","querry","axios","requestImages","then","length","error","catch","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9adcb668.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__1hJUT\"};","import s from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={s.container}>{children}</div>;\n}\n","import React, { Component } from 'react'\r\n\r\nexport default class Searchbar extends Component {\r\n\r\n    state = {\r\n        query: \"\",\r\n    }\r\n\r\n    handleChange = e => {\r\n    const { value } = e.target;\r\n        this.setState({\r\n            query: value,\r\n        });\r\n    };\r\n\r\n    onSubmitForm = e => {\r\n        e.preventDefault();\r\n        this.props.onSubmit(this.state.query);\r\n        this.setState({ query: ''});\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <header className=\"header\">\r\n                <p className=\"title\">Polaroid is BACK!</p>\r\n                <form className=\"search-form\"  id=\"search-form\" onSubmit={ this.onSubmitForm }>\r\n\r\n                    \r\n\r\n                    <input\r\n                        className=\"form-input form-control\"\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Найти изображение...\"\r\n                        onChange={ this.handleChange }\r\n                        value={this.state.query}\r\n                    />\r\n\r\n                    <button className=\"btn btn-warning btn-sub\" type=\"submit\">\r\n                        <span className=\" spinner spinner-border spinner-border-sm is-hidden\" role=\"status\" aria-hidden=\"true\"></span>\r\n                        <span className=\"label\">Найти</span>\r\n                    </button>\r\n\r\n                </form>\r\n            </header>\r\n\r\n            \r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react'\r\n\r\nexport default function ImageGalleryItem({ image :{ webformatURL, largeImageURL, tags, likes, views, comments, downloads }, openModal}) {\r\n    return (\r\n        <li className=\"gallery-item\" data-large-image={largeImageURL} onClick={() => {\r\n        openModal(largeImageURL, tags);\r\n      }}>\r\n    <div className=\"photo-card\">\r\n        <div className=\"image-wrapper\">\r\n            <img className=\"photo-card__img\" src={webformatURL} alt={tags} />\r\n        </div>\r\n\r\n        <div className=\"stats\">\r\n            <p className=\"stats-item\">\r\n                <i className=\"material-icons\">thumb_up</i>\r\n                <span>{likes}</span>\r\n            </p>\r\n            <p className=\"stats-item\">\r\n                <i className=\"material-icons\">visibility</i>\r\n                <span>{views}</span>\r\n            </p>\r\n            <p className=\"stats-item\">\r\n                <i className=\"material-icons\">comment</i>\r\n                <span>{comments}</span>\r\n            </p>\r\n            <p className=\"stats-item\">\r\n                <i className=\"material-icons\">cloud_download</i>\r\n                <span>{downloads}</span>\r\n            </p>\r\n        </div>\r\n    </div>\r\n</li>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Button({ loadMore }) {\r\n    return (\r\n        <div className='btn-wrapper'>\r\n            <button type='button' className='btn btn-warning btn-sub' onClick={loadMore}>\r\n                Загрузить ещё...\r\n            </button></div>\r\n    )\r\n}\r\n\r\n\r\n","import React from 'react'\r\nimport ImageGalleryItem from './ImageGalleryItem'\r\nimport Button from '../Button/Button'\r\n\r\nexport default function ImageGallery({gallery, openModal, loadMore }) {\r\n    return (\r\n            <>\r\n                <ul className=\"gallery\">\r\n                {gallery.map(image => <ImageGalleryItem key={image.id} image={image} openModal={openModal} />)}\r\n                <Button loadMore={loadMore} />\r\n                </ul>\r\n            </>\r\n        )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Great() {\r\n    return (\r\n        <div className=\"wrapper\"><h1 className=\"great\">Давай найдём с тобой пару фотографий!</h1></div>\r\n    )\r\n}\r\n","import React, { Component } from 'react'\r\nimport Loader from \"react-loader-spinner\";\r\n\r\nexport default class Modal extends Component {\r\n\r\n    state = {\r\n        isLoading: true,\r\n    };\r\n\r\n    loaded = () => {\r\n        this.setState({ isLoading: false});\r\n    };\r\n \r\n    \r\n    render() {\r\n        const { src, alt, openModal } = this.props;\r\n        return (\r\n        \r\n            <>\r\n                \r\n                <div className=\"Overlay\" onClick={e => {\r\n                    if (e.target === e.currentTarget) openModal();\r\n                }}\r\n                >\r\n                \r\n                    <div className=\"Modal\">\r\n                        <img className='imgModal' onLoad={ this.loaded }  src={src} alt={alt} />\r\n                        {this.state.isLoading && <Loader className=\"wrapper\" type=\"ThreeDots\" color=\"#ffc107\" height={120} width={120} />}\r\n                    </div>\r\n                    \r\n                </div>\r\n            \r\n                \r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\n","import '../node_modules/bootstrap/dist/css/bootstrap.min.css'\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\n\n\nimport React, { Component } from 'react'\nimport { ToastContainer, toast } from 'react-toastify';\nimport Container from './components/Container/Container'\nimport { requestImages } from './services/requestImages';\nimport Searchbar from 'components/Searchbar/Searchbar';\nimport ImageGallery from 'components/ImageGallery/ImageGallery';\nimport Loader from \"react-loader-spinner\";\nimport Great from 'components/ImageGallery/Great';\nimport Modal from './components/Modal/Modal'\n\n  \nexport default class App extends Component {\n  \n  state = {\n    gallery: [],\n    isLoading: false,\n    query: '',\n    page: 1,\n    modal: { show: false, alt: '', src: '' },\n  };\n\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handlerEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handlerEsc);\n  }\n\n  componentDidUpdate() {\n    if (this.state.isLoading)\n      requestImages({\n        querry: this.state.query,\n        page: this.state.page,\n      }).then(response => {\n        if (response.data.hits.length === 0) {\n          toast.error(`По запросу ${this.state.query} ничего не найдено`);\n          this.setState({ isLoading: false, query: '' })\n        }\n        else { this.updateGallery(response) }\n      }).catch(error => {\n        if (error) {\n         return toast.error(`Что-то пошло не так, попробуйте позже`);\n        }\n    });\n  }\n  \n  \n  onSubmitForm = query => {\n    if (query === this.state.query || query === '') return toast.warning('Введите запрос');\n    this.setState({\n      isLoading: true,\n      query,\n      page: 1,\n      gallery: []\n    });\n  };\n\n    updateGallery = response => {\n    this.setState(\n      prevState => ({\n        gallery: [...prevState.gallery, ...response.data.hits],\n        isLoading: false,\n      }),\n      this.scroll,\n    );\n    };\n  \n  \n  scroll = () => {\n    if (this.state.page !== 1)\n      window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  loadMore = () => {\n    this.setState(prevState => ({\n      isLoading: true,\n      page: prevState.page + 1,\n    }));\n  };\n\n  openModal = (src = '', alt = '') => {\n    this.setState(prevState => ({\n      modal: {\n        show: !prevState.modal.show,\n        alt,\n        src,\n      },\n    }));\n  };\n\n   handlerEsc = e => {\n    if (e.key === 'Escape' && this.state.modal.show) this.openModal();\n  };\n\n  render() {\n\n const { isLoading, gallery, modal } = this.state;\n\n      return (\n        \n        <Container>\n          <Searchbar onSubmit={this.onSubmitForm} />\n          {isLoading && <Loader className=\"wrapper\" type=\"ThreeDots\" color=\"#ffc107\" height={120} width={120}/>}\n\n \n          {gallery.length > 0 ? (<ImageGallery gallery={gallery} openModal={this.openModal} loadMore={this.loadMore} />)\n            : (<Great />)\n          }\n\n          {modal.show && (\n            <Modal\n              src={modal.src}\n              alt={modal.alt}\n              openModal={this.openModal} \n            />\n          )}\n          <ToastContainer />\n        </Container>\n      )\n    }\n  }\n  \n\n\n","import axios from 'axios'\r\n\r\nconst BASE_URL = 'https://pixabay.com/api/?image_type=photo&orientation=horizontal&'\r\nconst API_KEY = '19261458-26a7a8067c525acd82bd2f87d'\r\n\r\n\r\n\r\nexport function requestImages({ querry, page }) {\r\n  return axios(\r\n    `${BASE_URL}q=${querry}&page=${page}&key=${API_KEY}&per_page=12`,\r\n  );\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}